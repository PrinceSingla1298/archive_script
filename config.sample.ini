[general]
aws_profile = default
log_directory = /tmp/tacobell-archival-logs

[s3]
bucket_name = your-bucket-name
file_path = path/to/csv/prefix/{date}/

[database]
host = your-db-hostname
database = your_database_name
table_name = your_source_table
batch_size = 2200
health_check_interval = 5
# REQUIRED: delete query must contain a single positional placeholder for ids list
delete_query = DELETE FROM your_source_table WHERE id IN ({})
# OPTIONAL: uncomment to enable archive-then-delete mode
# archival_insert_query = INSERT INTO your_archive_table SELECT * FROM your_source_table WHERE id IN ({})

[secrets]
# Name/ARN of the AWS Secrets Manager secret holding DB creds as JSON {"username": "...", "password": "..."}
database_secret = your/db/secret/name
# Name/ARN of the secret for the monitoring DB connection {"host":"...","username":"...","password":"...","database":"...","port":3306}
monitoring_db_secret = your/monitoring/secret/name

[replica]
# Optional replica hosts for lag/HLL checks
host1 = replica-host-1
# host2 = replica-host-2

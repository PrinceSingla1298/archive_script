[general]
aws_profile = default
log_directory = /opt/logs/archival

[secrets]
database_secret = prince_test_rds_partition/db-secret
monitoring_db_secret = prince_test_rds_partition/monitoring-db-secret

[s3]
bucket_name = my-data-bucket
file_path = exports/{date}/rewards/

[database]
table_name = rewards
host = prod-db-host.example.com
database = production_db
batch_size = 2200
health_check_interval = 5

# SQL queries (use {} as placeholder for ID list)
# ARCHIVE MODE: Both queries present - will archive first, then delete
archival_insert_query = INSERT INTO testing.rewards_archives(id, business_id, redeemable_tag_id, user_id, redeemable_id, free_punchh_campaign_id, redemption_id, checkin_id, admin_id, from_balance, to_balance, created_at, updated_at, start_time, end_time, read_at, gaming_level_id, gifted_for_type, gift_reason, redeemable_location_id, event_type, campaign_type, app_device_id, recurring_reward_id, gifted_for_id, status) SELECT id, business_id, redeemable_tag_id, user_id, redeemable_id, free_punchh_campaign_id, redemption_id, checkin_id, admin_id, from_balance, to_balance, created_at, updated_at, start_time, end_time, read_at, gaming_level_id, gifted_for_type, gift_reason, redeemable_location_id, event_type, campaign_type, app_device_id, recurring_reward_id, gifted_for_id, 'perished' FROM rewards WHERE id IN ({})

delete_query = DELETE FROM testing.rewards WHERE id IN ({})

[replica]
host1 = replica1.example.com
host2 = replica2.example.com